{"version":3,"sources":["contexts/CurrentUserContext.js","components/ProtectedRoute/ProtectedRoute.js","images/header-logo.svg","images/account-link.svg","components/ProfileEditButton/ProfileEditButton.js","components/Navigation/Navigation.js","components/Header/Header.js","components/MenuPopup/MenuPopup.js","components/Promo/Promo.js","components/NavTab/NavTab.js","components/Title/Title.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/about-me.jpg","components/AboutMe/AboutMe.js","components/Main/Main.js","components/Preloader/Preloader.js","utils/convertTime.js","utils/config.js","components/MoviesCard/MoviesCard.js","components/MoreButton/MoreButton.js","hooks/useMediaScreenSize.js","components/MoviesCardList/MoviesCardList.js","components/SearchForm/SearchForm.js","components/FilterCheckbox/FilterCheckbox.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","hooks/useFormValidation.js","components/Profile/Profile.js","components/FormTitle/FormTitle.js","components/AuthForm/AuthForm.js","components/Register/Register.js","components/Footer/Footer.js","components/Login/Login.js","components/NoPageFound/NoPageFound.js","utils/MainApi.js","utils/MoviesApi.js","components/App/App.js","index.js"],"names":["CurrentUserContext","createContext","ProtectedRoute","Component","component","props","loggedIn","to","ProfileEditButton","onClick","alt","className","src","accountLink","Navigation","activeClassName","Header","onMenu","HeaderLogo","type","Modal","setAppElement","console","log","React","version","MenuPopup","isOpen","onClose","overlayClassName","closeTimeoutMS","onRequestClose","shouldCloseOnOverlayClick","exact","Promo","children","NavTab","href","Title","title","AboutProject","id","Techs","target","rel","AboutMe","AboutMePhoto","Main","Preloader","convertTime","durationMinutes","hours","Math","floor","minutes","IMAGE_URL","MoviesCard","movie","isSavedMovies","likedMovies","onSaveMovie","onDeleteSavedMovie","buttonTitle","isLiked","movieLikeBtnClassName","trailerLink","trailer","image","url","nameRU","nameEN","country","director","duration","year","description","thumbnail","formats","movieId","isSaved","MoreButton","getWidth","document","documentElement","clientWidth","useMediaScreenSize","useState","width","size","setSize","useLayoutEffect","timeOutId","handleResize","clearTimeout","setTimeout","window","addEventListener","removeEventListener","MoviesCardList","foundUserMovies","isSavedMoviesSearch","savedMovies","locationPathname","movies","moviesToRender","setMoviesToRender","isMoreButtonActive","setIsMoreButtonActive","quantityMoviesToRender","setQuantityMoviesToRender","quantityMoviesToAdd","setQuantityMoviesToAdd","screenSize","useEffect","slice","length","initialMoviesCards","map","_id","SearchForm","onGetMovies","handleSearchSavedMovies","showSearchedMovies","findedMovie","setFindedMovie","findedSavedMovie","setFindedSavedMovie","error","setError","setIsValid","onSubmit","evt","preventDefault","placeholder","name","value","onChange","required","FilterCheckbox","onFilter","isShortMovie","checked","Movies","isLoading","isNoMoviesFound","location","useLocation","pathname","SavedMovies","userMovies","isNoSavedMoviesFound","useFormValidation","values","setValues","errors","setErrors","isValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","validationMessage","closest","checkValidity","Profile","onSignOut","profileUpdateMessage","onUpdateUser","userResStatus","currentUser","useContext","isUpdateUserError","setIsUpdateUserError","setUpdateUserErrorMessage","formIsValid","setFormIsValid","isEdited","setIsEdited","disableEditProfile","email","errorHandler","noValidate","minLength","maxLength","pattern","disabled","FormTitle","titleText","AuthForm","isAuthErr","authErrMessage","requestLink","inputType","setInputType","Logo","password","onKeyDown","Register","onRegister","isLoadingRegister","regResStatus","history","useHistory","isRegistrationErr","setIsRegistrationErr","registrationErrMessage","setRegistrationErrMessage","push","Footer","Date","getFullYear","Login","onLogin","isLoadingLogin","authResStatus","tokenResStatus","setIsAuthErr","setAuthErrMessage","NoPageFound","goBack","mainApi","MAIN_API_URL","headers","this","_MAIN_API_URL","_headers","data","fetch","method","body","JSON","stringify","then","_getResData","token","Authorization","res","ok","json","Promise","reject","status","moviesApi","MOVIES_API_URL","_MOVIES_API_URL","App","localStorage","getItem","setLoggedIn","setIsLoading","setIsLoadingLogin","setIsLoadingRegister","isLoadingUpdateUser","setIsLoadingUpdateUser","isLoadingMovies","setIsLoadingMovies","setIsNoMoviesFound","setIsNoSavedMoviesFound","setCurrentUser","setProfileUpdateMessage","setUserMovies","menuIsOpen","setMenuIsOpen","sortedMovies","setSortedMovies","setAuthResStatus","registrationResStatus","setRegistrationResStatus","tokenAuthResStatus","setTokenAuthResStatus","updateUserResStatus","setUpdateUserResStatus","setMovies","shortMovies","setShortMovies","setIsSavedMoviesSearch","findedUserMovies","setFindedUserMovies","checkToken","catch","err","handleSignin","authorize","setItem","finally","handleSaveMovieClick","saveMovie","newMovie","Error","handleDeleteMovie","selectedMovie","find","item","deleteSavedMovie","newMoviesList","filter","c","handleCheckBox","filterShortMovies","arr","all","getUserInfo","getMovies","getSavedMovies","userData","allMovies","savedMoviesList","owner","reverse","Provider","useRouteMatch","path","keyword","key","RegExp","findedMovies","m","test","markAsSaved","some","userMovie","updateUserProfile","clear","register","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1a98736c.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();","import { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />}\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/header-logo.8e581812.svg\";","export default __webpack_public_path__ + \"static/media/account-link.4a3397f0.svg\";","import React from 'react';\nimport accountLink from '../../images/account-link.svg';\n\nimport './ProfileEditButton.css';\n\n\nfunction ProfileEditButton({ onClick }) {\n\n  return (\n    <img alt=\"account-icon\" className=\"profile__account-link\" src={accountLink} onClick={onClick} />\n  )\n}\n\nexport default ProfileEditButton;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Navigation.css';\nimport ProfileEditButton from '../ProfileEditButton/ProfileEditButton';\n\nfunction Navigation() {\n\n  return (\n    <>\n      <nav className=\"navigation__container\">\n        <NavLink to=\"/movies\" className=\"navigation__link\" activeClassName=\"navigation__link_active\">Фильмы</NavLink>\n        <NavLink to=\"/saved-movies\" className=\"navigation__link\" activeClassName=\"navigation__link_active\">Сохраненные фильмы</NavLink>\n      </nav>\n        <NavLink className=\"navigation__account-link\" to=\"/profile\">\n          <ProfileEditButton />\n        </NavLink>\n    </>\n  )\n}\n\nexport default Navigation;","import React from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport HeaderLogo from '../../images/header-logo.svg';\nimport './Header.css';\nimport Navigation from '../Navigation/Navigation';\n\nfunction Header({ loggedIn, onMenu }) {\n\n  return (\n      <header className={loggedIn ? \"header header__grid-template\" : \"header\"}>\n      <Link to=\"/\">\n        <img alt=\"логотип movies-explorer\" className=\"header__logo\" src={HeaderLogo} />\n      </Link>\n      {loggedIn ? (<Navigation />) : (<nav className=\"header__auth-navlink-container\">\n        <NavLink className=\"header__auth-navlink\" to=\"/signup\">Регистрация</NavLink>\n        <NavLink className=\"header__auth-navlink header__auth-navlink_bgcolor_black\" to=\"/signin\">Войти</NavLink>\n      </nav>)}\n      {loggedIn &&\n        (\n          <button className=\"header__menu-btn\" type=\"button\" onClick={onMenu}></button>\n        )\n      }\n    </header>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"../MenuPopup/MenuPopup.css\";\nimport \"../Header/Header.css\";\n\nimport ProfileEditButton from '../ProfileEditButton/ProfileEditButton';\n\nimport Modal from 'react-modal';\nModal.setAppElement('#root');\nconsole.log(React.version);\n\n\nfunction MenuPopup({ isOpen, onClose }) {\n\n  return (\n    <Modal\n    isOpen={isOpen}\n    className='popup__container'\n    overlayClassName={`popup ${(isOpen) ? 'popup_opened' : ''}`}\n    closeTimeoutMS={250}\n    onRequestClose={onClose}\n    shouldCloseOnOverlayClick={true}\n  >\n        <button className=\"popup__close-btn\" type=\"button\" onClick={onClose} />\n        <nav className=\"popup-navigation__container\">\n          <NavLink exact activeClassName=\"popup-navigation__link_active\" to=\"/\" className=\"popup-navigation__link\" onClick={onClose}>Главная</NavLink>\n          <NavLink activeClassName=\"popup-navigation__link_active\" to=\"/movies\" className=\"popup-navigation__link\" onClick={onClose}>Фильмы</NavLink>\n          <NavLink activeClassName=\"popup-navigation__link_active\" to=\"/saved-movies\" className=\"popup-navigation__link\" onClick={onClose}>Сохраненные фильмы</NavLink>\n        </nav>\n          <NavLink to=\"/profile\" className=\"popup-navigation__account-link\">\n          <ProfileEditButton onClick={onClose} />\n          </NavLink>\n    </Modal>\n  );\n}\n\nexport default MenuPopup;\n","import React from 'react';\n\nimport './Promo.css';\n\nfunction Promo({children}) {\n  return (\n    <section className=\"promo\">\n      <div className=\"promo__container\">\n        <h1 className=\"promo__title\">Учебный проект студента факультета Веб-разработки.</h1>\n        {children}\n      </div>\n    </section>\n  )\n}\n\nexport default Promo;","import React from 'react';\n\nimport './NavTab.css'\n\nfunction NavTab() {\n  return (\n    <nav className=\"nav-tab\">\n      <ul className=\"nav-tab__list\">\n        <li className=\"nav-tab__list-item\">\n          <a className=\"nav-tab__list-link\" href=\"#about-project\">О проекте</a>\n        </li>\n        <li className=\"nav-tab__list-item\">\n          <a className=\"nav-tab__list-link\" href=\"#technologies\">Технологии</a>\n        </li>\n        <li className=\"nav-tab__list-item\">\n          <a className=\"nav-tab__list-link\" href=\"#about-me\">Студент</a>\n        </li>\n      </ul>\n    </nav>\n  )\n}\n\nexport default NavTab;\n","import React from 'react';\nimport './Title.css';\n\nfunction Title({ title }) {\n  return (\n    <h2 className=\"title\">{title}</h2>\n  )\n}\n\nexport default Title;\n","import React from \"react\";\nimport \"./AboutProject.css\";\n\nimport Title from '../Title/Title';\n\n\nfunction AboutProject() {\n  return (\n    <article id=\"about-project\" className=\"about-project\">\n      <Title title={'О проекте'}/>\n      <section className=\"about-project__items\">\n        <div className=\"about-project__items-container\">\n          <h3 className=\"about-project__items-title\">Дипломный проект включал 5 этапов</h3>\n          <p className=\"about-project__items-text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n        </div>\n        <article className=\"about-project__items-container\">\n          <h3 className=\"about-project__items-title\">На выполнение диплома ушло 5 недель</h3>\n          <p className=\"about-project__items-text\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n        </article>\n      </section>\n      <section className=\"about-project__chart-section\">\n        <div className=\"about-project__chart\">\n          <div className=\"about-project__chart-item\">\n            <p className=\"about-project__chart-text about-project__chart-text_bgcolor_black\">1 неделя</p>\n            <p className=\"about-project__chart-subtext\">Back-end</p>\n          </div>\n          <div className=\"about-project__chart-item\">\n            <p className=\"about-project__chart-text\">4 недели</p>\n            <p className=\"about-project__chart-subtext\">Front-end</p>\n          </div>\n        </div>\n      </section>\n    </article>\n  )\n}\n\nexport default AboutProject;","import React from \"react\";\nimport \"./Techs.css\";\n\nimport Title from '../Title/Title';\n\n\nfunction Techs() {\n  return (\n    <article id=\"technologies\" className=\"techs\">\n      <Title title={'Технологии'} />\n      <section className=\"techs-items__section\">\n        <article className=\"techs-items\">\n          <h3 className=\"techs-items__title\">7 технологий</h3>\n          <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n        </article>\n      </section>\n      <section className=\"techs-icon__section\">\n        <ul className=\"techs-list\">\n          <li className=\"techs-list__item\">\n            <a className=\"techs-list__link\" href=\"https://html.com/\" target=\"_blank\" rel=\"noopener noreferrer\">HTML</a>\n          </li>\n          <li className=\"techs-list__item\">\n            <a className=\"techs-list__link\" href=\"https://www.w3.org/Style/CSS/\" target=\"_blank\" rel=\"noopener noreferrer\">CSS</a>\n          </li>\n          <li className=\"techs-list__item\">\n            <a className=\"techs-list__link\" href=\"https://www.javascript.com/\" target=\"_blank\" rel=\"noopener noreferrer\">JS</a>\n          </li>\n          <li className=\"techs-list__item\">\n          <a className=\"techs-list__link\" href=\"https://reactjs.org/\" target=\"_blank\" rel=\"noopener noreferrer\">React</a>\n          </li>\n        <li className=\"techs-list__item\">\n          <a className=\"techs-list__link\" href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Git</a>\n        </li>\n        <li className=\"techs-list__item\">\n          <a className=\"techs-list__link\" href=\"https://expressjs.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Express.js</a>\n        </li>\n        <li className=\"techs-list__item\">\n          <a className=\"techs-list__link\" href=\"https://www.mongodb.com/\" target=\"_blank\" rel=\"noopener noreferrer\">mongoDB</a>\n        </li>\n        </ul>\n      </section>\n    </article >\n  )\n}\n\nexport default Techs;\n","export default __webpack_public_path__ + \"static/media/about-me.485b23a9.jpg\";","import React from 'react';\nimport AboutMePhoto from '../../images/about-me.jpg';\nimport './AboutMe.css';\n\nimport Title from '../Title/Title';\n\nfunction AboutMe() {\n\n  return (\n    <article id=\"about-me\" className=\"about-me\">\n      <Title title={'Студент'}/>\n      <section className=\"about-me__section\">\n        <article className=\"about-me__info-container\">\n          <div className=\"about-me__text-container\">\n            <h3 className=\"about-me__info-title\">Зураб</h3>\n            <h4 className=\"about-me__subtitle\">Мастер, 35 лет</h4>\n            <p className=\"about-me__text\">Я родился в Тбилиси  и уже семь лет живу в Ростове-на-Дону.\nЗакончил факультет Информатики и Управления системами.\nЖенат, есть сын. Работаю последние несколько лет не по профессии, но так как меня всегда увлекало программирование, то решился пройти курс \"Веб-разработчика\" в \"Яндекс.Практикуме\".</p>\n            <ul className=\"about-me__list\">\n              <li className=\"about-me__list-item\">\n                <a className=\"about-me__list-link\" href=\"https://www.facebook.com/zura.bobokhidze.3\" target=\"_blank\" rel=\"noreferrer\">Facebook</a>\n              </li>\n              <li className=\"about-me__list-item\">\n                <a className=\"about-me__list-link\" href=\"https://github.com/zurabobo\" target=\"_blank\" rel=\"noreferrer\">Github</a>\n              </li>\n            </ul>\n          </div>\n            <img className=\"about-me__image\" src={AboutMePhoto} alt=\"портрет\" />\n        </article>\n      </section>\n      <section className=\"about-me-portfolio__section\">\n        <div className=\"about-me__portfolio-list-container\">\n          <h5 className=\"about-me__portfolio-title\">Портфолио</h5>\n          <ul className=\"about-me__portfolio-list\">\n            <li className=\"about-me__portfolio-list-item\">\n              <a className=\"about-me__portfolio-list-link\" href=\"https://github.com/zurabobo/how-to-learn\" target=\"_blank\" rel=\"noreferrer\">Статичный сайт\n                <span className=\"about-me__portfolio-list-link-icon\">↗</span>\n              </a>\n            </li>\n            <li className=\"about-me__portfolio-list-item\">\n              <a className=\"about-me__portfolio-list-link\" href=\"https://zurabobo.github.io/russian-travel\" target=\"_blank\" rel=\"noreferrer\">Адаптивный сайт\n                <span className=\"about-me__portfolio-list-link-icon\">↗</span>\n              </a></li><li className=\"about-me__portfolio-list-item\">\n              <a className=\"about-me__portfolio-list-link\" href=\"https://zb.students.nomoredomains.club\" target=\"_blank\" rel=\"noreferrer\">Одностраничное приложение\n                <span className=\"about-me__portfolio-list-link-icon\">↗</span>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </section>\n    </article>\n  )\n}\n\nexport default AboutMe;\n","import React from 'react';\n\nimport Promo from '../Promo/Promo';\nimport NavTab from '../NavTab/NavTab';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\n\nfunction Main() {\n  return (\n    <>\n      <Promo>\n        <NavTab />\n      </Promo>\n      <AboutProject />\n      <Techs />\n      <AboutMe />\n    </>\n  )\n}\n\nexport default Main;\n","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","const convertTime = (durationMinutes) => {\n  const hours = Math.floor(durationMinutes / 60);\n  const minutes = Math.floor(durationMinutes % 60);\n  return `${hours}ч ${minutes}м`;\n}\n\nexport default convertTime;\n","//export const MAIN_API_URL = 'https://api.movies-explorer.zb.nomoredomains.rocks';\nexport const MOVIES_API_URL = 'https://api.nomoreparties.co/beatfilm-movies';\nexport const IMAGE_URL = 'https://api.nomoreparties.co';\n\nexport const MAIN_API_URL = 'http://localhost:3000';\n\nexport const SCREEN_WIDTH_L = 1280;\nexport const SCREEN_WIDTH_M = 768;\nexport const SCREEN_WIDTH_S = 320;\n\nexport const QUANTITY_MOVIES_TO_RENDER_L = 12;\nexport const QUANTITY_MOVIES_TO_RENDER_M = 8;\nexport const QUANTITY_MOVIES_TO_RENDER_S = 5;\n\nexport const QUANTITY_MOVIES_TO_ADD_L = 3;\nexport const QUANTITY_MOVIES_TO_ADD_M = 2;\n\nexport const QUANTIITY = 0;\n\nexport const SHORT_MOVIE_DURATION = 40;\n","import React from 'react';\n\nimport './MoviesCard.css'\nimport convertTime from '../../utils/convertTime';\nimport { IMAGE_URL } from '../../utils/config';\n\nfunction MoviesCard({\n  movie,\n  isSavedMovies,\n  likedMovies,\n  onSaveMovie,\n  onDeleteSavedMovie,\n  buttonTitle,\n}) {\n\n  const isLiked = !isSavedMovies && likedMovies(movie)\n  const movieLikeBtnClassName = `${isLiked ? \"movies-card__save-btn movies-card__saved-btn\" : \"movies-card__save-btn\"}`;\n\n  const handleSaveMovieClick = () => {\n    onSaveMovie({\n      country: movie.country || 'Нет данных',\n      director: movie.director || 'Нет данных',\n      duration: movie.duration || 0,\n      year: movie.year || 'Нет данных',\n      description: movie.description || 'Нет данных',\n      image: `${IMAGE_URL}${movie.image ? movie.image.url : ''}`,\n      trailer: movie.trailerLink,\n      thumbnail: `${IMAGE_URL}${movie.image.formats.thumbnail.url}`,\n      movieId: movie.id,\n      nameRU: movie.nameRU || 'Нет данных',\n      nameEN: movie.nameEN || 'Нет данных',\n      isSaved: movie.isSaved,\n    })\n  }\n\n  function handleDeleteClick() {\n    onDeleteSavedMovie(movie);\n  }\n\n  return (\n\n    <article className=\"movies-card\">\n      <a href={movie.trailerLink || movie.trailer} target=\"_blank\" rel=\"noopener noreferrer nofollow\" >\n        <img className=\"movies-card__image\" src={isSavedMovies ? movie.image : `${IMAGE_URL}${movie.image ? movie.image.url : movie.image}`}\n          alt={movie.nameRU || movie.nameEN} />\n      </a>\n      {isSavedMovies ? (\n        <button className=\"movies-card__save-btn movies-card__delete-btn\" onClick={handleDeleteClick}></button>\n      ) : (\n        <button className={movieLikeBtnClassName} onClick={handleSaveMovieClick}>{buttonTitle}</button>\n      )}\n      <div className=\"movies-card__description\">\n        <h2 className=\"movies-card__title\">{movie.nameRU || movie.nameEN}</h2>\n        <p className=\"movies-card__duration\">{convertTime(movie.duration)}</p>\n      </div>\n    </article>\n  )\n}\n\nexport default MoviesCard;\n","import React from 'react';\n\nimport './MoreButton.css';\n\nfunction MoreButton({ onClick }) {\n  return (\n    <div className=\"more-btn__container\">\n      <button className=\"more-btn\" type=\"button\" onClick={onClick}>Ещё</button>\n    </div>\n  )\n}\n\nexport default MoreButton;\n","import { useState, useLayoutEffect } from 'react';\n\nconst getWidth = () => {\n  return document.documentElement.clientWidth;\n};\n\nfunction useMediaScreenSize() {\n  const [size, setSize] = useState({\n    width: getWidth(),\n  });\n\n  useLayoutEffect(() => {\n\n    let timeOutId = null;\n\n    const handleResize = () => {\n      clearTimeout(timeOutId);\n\n      timeOutId = setTimeout(() => {\n        setSize({\n          width: getWidth(),\n        });\n      }, 150);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, [])\n\n  return size;\n}\n\nexport default useMediaScreenSize;\n","// import React, { useState, useEffect } from 'react';\n\n// import './MoviesCardList.css';\n// import MoviesCard from '../MoviesCard/MoviesCard';\n// import MoreButton from '../MoreButton/MoreButton';\n// import useMediaScreenSize from '../../hooks/useMediaScreenSize';\n// import {\n//   SCREEN_WIDTH_L,\n//   SCREEN_WIDTH_M,\n//   SCREEN_WIDTH_S,\n//   QUANTIITY,\n//   QUANTITY_MOVIES_TO_ADD_L,\n//   QUANTITY_MOVIES_TO_ADD_M,\n//   QUANTITY_MOVIES_TO_RENDER_L,\n//   QUANTITY_MOVIES_TO_RENDER_M,\n//   QUANTITY_MOVIES_TO_RENDER_S,\n// } from '../../utils/config';\n\n\n// function MoviesCardList({ foundUserMovies, isSavedMoviesSearch, savedMovies, likedMovies, onSaveMovie, isSavedMovies, onDeleteSavedMovie, locationPathname, movies }) {\n\n//   const [moviesToRender, setMoviesToRender] = useState([]);\n//   const [isMoreButtonActive, setIsMoreButtonActive] = useState(false);\n//   const [quantityMoviesToRender, setQuantityMoviesToRender] = useState(0);\n//   const [quantityMoviesToAdd, setQuantityMoviesToAdd] = useState(0);\n\n//   const screenSize = useMediaScreenSize();\n\n//   const countQuantityMoviesToRender = () => {\n//     if (screenSize.width >= SCREEN_WIDTH_L) {\n//       setQuantityMoviesToRender(QUANTITY_MOVIES_TO_RENDER_L);\n//       setQuantityMoviesToAdd(QUANTITY_MOVIES_TO_ADD_L);\n//     } else if (screenSize.width < SCREEN_WIDTH_L && screenSize.width >= SCREEN_WIDTH_M) {\n//       setQuantityMoviesToRender(QUANTITY_MOVIES_TO_RENDER_M);\n//       setQuantityMoviesToAdd(QUANTITY_MOVIES_TO_ADD_M);\n//     } else if (screenSize.width < SCREEN_WIDTH_M && screenSize.width >= SCREEN_WIDTH_S) {\n//       setQuantityMoviesToRender(QUANTITY_MOVIES_TO_RENDER_S);\n//       setQuantityMoviesToAdd(QUANTITY_MOVIES_TO_ADD_M);\n//     };\n//   };\n\n//   const handleMoreButtonClick = () => {\n//     setMoviesToRender(movies.slice(QUANTIITY, moviesToRender.length + quantityMoviesToAdd));\n//     if (moviesToRender.length >= movies.length - quantityMoviesToAdd) {\n//       setIsMoreButtonActive(false);\n//     }\n//   }\n\n//   useEffect(() => {\n//     countQuantityMoviesToRender();\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//   }, [screenSize.width])\n\n//   useEffect(() => {\n//     if (locationPathname === '/movies') {\n//       setMoviesToRender(movies.slice(QUANTIITY, quantityMoviesToRender));\n//       if (movies.length <= quantityMoviesToRender) {\n//         setIsMoreButtonActive(false);\n//       } else {\n//         setIsMoreButtonActive(true);\n//       };\n//     } else if (locationPathname === '/saved-movies') {\n//       setMoviesToRender(movies);\n//       setIsMoreButtonActive(false);\n//     }\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//   }, [movies, quantityMoviesToRender])\n\n\n\n//   const initialMoviesCards = moviesToRender.map((movie) => (\n//     <li key={movie.id || movie._id}>\n//       <MoviesCard\n//         buttonTitle=\"Сохранить\"\n//         movie={movie}\n//         onSaveMovie={onSaveMovie}\n//         likedMovies={likedMovies}\n//         isSavedMovies={isSavedMovies}\n//         savedMovies={savedMovies}\n//         locationPathname={locationPathname}\n//         onDeleteSavedMovie={onDeleteSavedMovie}\n//       />\n//     </li>\n//   ))\n\n//   return (\n//     <>\n//       <section className=\"movies-card-list__section\">\n//         {isSavedMovies ? (\n//           <>\n//             {isSavedMoviesSearch ? (\n//               <>\n//                 <ul className=\"movies-card__list\">\n//                   {foundUserMovies.map((movie) => (\n//                     <li key={movie.id || movie._id}>\n//                       <MoviesCard\n//                         buttonTitle=\"Сохранить\"\n//                         movie={movie}\n//                         onSaveMovie={onSaveMovie}\n//                         likedMovies={likedMovies}\n//                         isSavedMovies={isSavedMovies}\n//                         savedMovies={savedMovies}\n//                         locationPathname={locationPathname}\n//                         onDeleteSavedMovie={onDeleteSavedMovie}\n//                       />\n//                     </li>\n//                   ))}\n//                 </ul>\n//               </>\n//             ) : (\n//               <>\n//                 <ul className=\"movies-card__list\">{initialMoviesCards}</ul>\n//               </>\n//             )}\n//           </>\n//         ) : (\n//           <>\n//             <ul className=\"movies-card__list\">{initialMoviesCards}</ul>\n//             {isMoreButtonActive ? (\n//               <MoreButton onClick={handleMoreButtonClick} />\n//             ) : null}\n//           </>\n//         )}\n//       </section>\n//     </>\n//   )\n// }\n\n// export default MoviesCardList;\n\nimport React, { useState, useEffect } from 'react';\n\nimport './MoviesCardList.css';\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport MoreButton from '../MoreButton/MoreButton';\nimport useMediaScreenSize from '../../hooks/useMediaScreenSize';\nimport {\n  SCREEN_WIDTH_L,\n  SCREEN_WIDTH_M,\n  SCREEN_WIDTH_S,\n  QUANTIITY,\n  QUANTITY_MOVIES_TO_ADD_L,\n  QUANTITY_MOVIES_TO_ADD_M,\n  QUANTITY_MOVIES_TO_RENDER_L,\n  QUANTITY_MOVIES_TO_RENDER_M,\n  QUANTITY_MOVIES_TO_RENDER_S,\n} from '../../utils/config';\n\n\nfunction MoviesCardList({ foundUserMovies, isSavedMoviesSearch, savedMovies, likedMovies, onSaveMovie, isSavedMovies, onDeleteSavedMovie, locationPathname, movies }) {\n\n  const [moviesToRender, setMoviesToRender] = useState([]);\n  const [isMoreButtonActive, setIsMoreButtonActive] = useState(false);\n  const [quantityMoviesToRender, setQuantityMoviesToRender] = useState(0);\n  const [quantityMoviesToAdd, setQuantityMoviesToAdd] = useState(0);\n\n  const screenSize = useMediaScreenSize();\n\n  const countQuantityMoviesToRender = () => {\n    if (screenSize.width >= SCREEN_WIDTH_L) {\n      setQuantityMoviesToRender(QUANTITY_MOVIES_TO_RENDER_L);\n      setQuantityMoviesToAdd(QUANTITY_MOVIES_TO_ADD_L);\n    } else if (screenSize.width < SCREEN_WIDTH_L && screenSize.width >= SCREEN_WIDTH_M) {\n      setQuantityMoviesToRender(QUANTITY_MOVIES_TO_RENDER_M);\n      setQuantityMoviesToAdd(QUANTITY_MOVIES_TO_ADD_M);\n    } else if (screenSize.width < SCREEN_WIDTH_M && screenSize.width >= SCREEN_WIDTH_S) {\n      setQuantityMoviesToRender(QUANTITY_MOVIES_TO_RENDER_S);\n      setQuantityMoviesToAdd(QUANTITY_MOVIES_TO_ADD_M);\n    };\n  };\n\n  const handleMoreButtonClick = () => {\n    setMoviesToRender(movies.slice(QUANTIITY, moviesToRender.length + quantityMoviesToAdd));\n    if (moviesToRender.length >= movies.length - quantityMoviesToAdd) {\n      setIsMoreButtonActive(false);\n    }\n  }\n\n  useEffect(() => {\n    countQuantityMoviesToRender();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [screenSize.width])\n\n  useEffect(() => {\n    if (locationPathname === '/movies') {\n      setMoviesToRender(movies.slice(QUANTIITY, quantityMoviesToRender));\n      if (movies.length <= quantityMoviesToRender) {\n        setIsMoreButtonActive(false);\n      } else {\n        setIsMoreButtonActive(true);\n      };\n    } else if (locationPathname === '/saved-movies') {\n      setMoviesToRender(movies);\n      setIsMoreButtonActive(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [movies, quantityMoviesToRender])\n\n\n\n  const initialMoviesCards = moviesToRender.map((movie) => (\n    <li key={movie.id || movie._id}>\n      <MoviesCard\n        buttonTitle=\"Сохранить\"\n        movie={movie}\n        onSaveMovie={onSaveMovie}\n        likedMovies={likedMovies}\n        isSavedMovies={isSavedMovies}\n        savedMovies={savedMovies}\n        locationPathname={locationPathname}\n        onDeleteSavedMovie={onDeleteSavedMovie}\n      />\n    </li>\n  ))\n\n  return (\n    <>\n      <section className=\"movies-card-list__section\">\n        {isSavedMovies ? (\n          <>\n            {isSavedMoviesSearch ? (\n              <>\n                <ul className=\"movies-card__list\">\n                  {foundUserMovies.map((movie) => (\n                    <li key={movie.id || movie._id}>\n                      <MoviesCard\n                        buttonTitle=\"Сохранить\"\n                        movie={movie}\n                        onSaveMovie={onSaveMovie}\n                        likedMovies={likedMovies}\n                        isSavedMovies={isSavedMovies}\n                        savedMovies={savedMovies}\n                        locationPathname={locationPathname}\n                        onDeleteSavedMovie={onDeleteSavedMovie}\n                      />\n                    </li>\n                  ))}\n                </ul>\n              </>\n            ) : (\n              <>\n                <ul className=\"movies-card__list\">{initialMoviesCards}</ul>\n              </>\n            )}\n          </>\n        ) : (\n          <>\n            <ul className=\"movies-card__list\">{initialMoviesCards}</ul>\n            {isMoreButtonActive ? (\n              <MoreButton onClick={handleMoreButtonClick} />\n            ) : null}\n          </>\n        )}\n      </section>\n    </>\n  )\n}\n\nexport default MoviesCardList;\n","import React, { useState, useEffect } from 'react';\nimport './SearchForm.css';\nimport '../Movies/Movies.css';\n\nfunction SearchForm({ onGetMovies, locationPathname, handleSearchSavedMovies, showSearchedMovies }) {\n\n  const [findedMovie, setFindedMovie] = useState([]);\n  const [findedSavedMovie, setFindedSavedMovie] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [isValid, setIsValid] = useState(false);\n\n  function handleSearchMovie(evt) {\n    setFindedMovie(evt.target.value);\n    if (evt.target.value.length === 0) {\n      setError(\"Нужно ввести ключевое слово\");\n    } else {\n      setError(\"\");\n    }\n  }\n\n  function handleSearchSavedMovieChange(evt) {\n    setFindedSavedMovie(evt.target.value);\n    if (evt.target.value.length === 0) {\n      setError(\"Нужно ввести ключевое слово\");\n    } else {\n      setError(\"\");\n    }\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    setError(\"\");\n    onGetMovies(findedMovie);\n    setFindedMovie(\"\");\n  }\n\n  function handleSavedMoviesSubmit(evt) {\n    evt.preventDefault();\n    setError(\"\");\n    handleSearchSavedMovies(findedSavedMovie);\n    setFindedSavedMovie(\"\")\n    showSearchedMovies();\n  }\n\n  useEffect(() => {\n    if (findedMovie && findedSavedMovie && !error) {\n      setIsValid(true);\n    } else {\n      setIsValid(false);\n    }\n  }, [findedMovie, findedSavedMovie, error]);\n\n  return (\n    <>\n      {locationPathname === '/movies' ? (\n        <>\n          <form className=\"search-form\" onSubmit={handleSubmit}>\n            <div className=\"search-form__container\">\n              <div className=\"search-form__input-container\">\n                <input className=\"search-form__input\" placeholder=\"Фильм\" type=\"text\" id=\"search-text\" name=\"search\" value={findedMovie} onChange={handleSearchMovie} required />\n                <button className=\"search-form__submit-btn\" type=\"submit\">Найти</button>\n              </div>\n            </div>\n          </form>\n          <p className=\"movies-notification-message\">{error}</p>\n        </>\n      ) : (\n\n            <>\n              <form className=\"search-form\" onSubmit={handleSavedMoviesSubmit}>\n                <div className=\"search-form__container\">\n                  <div className=\"search-form__input-container\">\n                    <input className=\"search-form__input\" placeholder=\"Фильм\" type=\"text\" id=\"search-text\" name=\"search\" value={findedSavedMovie} onChange={handleSearchSavedMovieChange} required />\n                    <button className=\"search-form__submit-btn\" type=\"submit\">Найти</button>\n                  </div>\n                </div>\n              </form>\n              <p className=\"movies-notification-message\">{error}</p>\n            </>\n\n      )\n      }\n    </>\n  )\n}\n\nexport default SearchForm;\n\n","import React from 'react';\nimport './FilterCheckbox.css';\n\nfunction FilterCheckbox({ onFilter, isShortMovie }) {\n  return (\n    <section className=\"filter__checkbox-section\">\n      <div className=\"filter__checkbox-container\">\n      <label className=\"filter__checkbox\">\n        <input className=\"filter__checkbox-input\" type=\"checkbox\" id=\"filter-short-movies\" name=\"short-movies\" onChange={onFilter} checked={isShortMovie} />\n        <span className=\"filter__checkbox-slider\"></span>\n        Короткометражки\n      </label>\n      </div>\n    </section>\n  )\n}\n\nexport default FilterCheckbox;\n","import React from 'react';\n\nimport { useLocation } from 'react-router-dom';\nimport Preloader from '../Preloader/Preloader';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport SearchForm from '../SearchForm/SearchForm';\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\nimport './Movies.css';\n\n\nfunction Movies({ savedMovies, onChange, onGetMovies, likedMovies, isShortMovie, onSubmit, onFilter, isLoading, isNoMoviesFound, movies, onSaveMovie }) {\n\n  let location = useLocation();\n\n  return (\n    <>\n      <SearchForm locationPathname={location.pathname} onGetMovies={onGetMovies} onSubmit={onSubmit} onChange={onChange} />\n\n      <FilterCheckbox onFilter={onFilter} isShortMovie={isShortMovie} />\n\n      {isLoading && (\n        <Preloader />\n      )}\n      {!isLoading && isNoMoviesFound ? (\n        <p className=\"movies-notification-message\">по вашему запросу ничего не найдено</p>\n      ) : (\n        <MoviesCardList\n          isSavedMovies={false}\n          likedMovies={likedMovies}\n          isNoMoviesFound={isNoMoviesFound}\n          movies={movies}\n          locationPathname={location.pathname}\n          savedMovies={savedMovies}\n          onSaveMovie={onSaveMovie}\n        />\n      )}\n    </>\n  )\n}\n\nexport default Movies;\n\n","import React, { useEffect } from 'react';\n\nimport { useLocation } from 'react-router-dom';\nimport SearchForm from '../SearchForm/SearchForm';\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Preloader from '../Preloader/Preloader';\nimport '../Movies/Movies.css';\n\nfunction SavedMovies({ onChange, userMovies, isSavedMoviesSearch, showSearchedMovies, handleSearchSavedMovies, foundUserMovies, isLoading, isNoMoviesFound, isNoSavedMoviesFound, isSavedMovies, movies, onDeleteSavedMovie, onFilter, isShortMovie }) {\n\n  let location = useLocation();\n\n\n  useEffect(() => {\n    if (!userMovies) {\n      handleSearchSavedMovies()\n    }\n  }, [userMovies]);\n\n  // const handleSubmit = (data) => {\n  //   handleSearchSavedMovies(data)\n  // }\n\n  // useEffect(() => {\n  //   handleSearchSavedMovies()\n  // }, [])\n\n  return (\n    <>\n      <SearchForm showSearchedMovies={showSearchedMovies}\n        handleSearchSavedMovies={handleSearchSavedMovies}\n        //onSubmit={handleSubmit}\n        onChange={onChange}\n      />\n      <FilterCheckbox onFilter={onFilter} isShortMovie={isShortMovie} />\n      {isLoading && (\n        <Preloader />\n      )}\n      {!isLoading && isNoSavedMoviesFound ? (\n        <p className=\"movies-notification-message\">ничего не найдено</p>\n      ) : (\n        <MoviesCardList\n          isNoMoviesFound={isNoMoviesFound}\n          movies={movies}\n          isSavedMovies={isSavedMovies}\n          isSavedMoviesSearch={isSavedMoviesSearch}\n          foundUserMovies={foundUserMovies}\n          locationPathname={location.pathname}\n          onDeleteSavedMovie={onDeleteSavedMovie} />\n      )}\n    </>\n  )\n}\n\nexport default SavedMovies;\n\n\n\n","import { useState, useCallback } from \"react\";\n\nexport function useFormValidation() {\n\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n\n  const handleChange = (evt) => {\n    const target = evt.target;\n    const name = target.name;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n\n    setValues({\n      ...values,\n      [name]: value\n    });\n\n    setErrors({\n      ...errors,\n      [name]: target.validationMessage\n    });\n\n\n    setIsValid(evt.target.closest('form').checkValidity());\n\n  }\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  )\n\n  return {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm,\n  };\n\n};\n","import React, { useContext, useState, useEffect } from 'react';\n\nimport './Profile.css';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { useFormValidation } from '../../hooks/useFormValidation';\nimport Preloader from '../Preloader/Preloader';\n\n\nfunction Profile({ onSignOut, profileUpdateMessage, isLoading, onUpdateUser, userResStatus }) {\n  const currentUser = useContext(CurrentUserContext);\n  const [isUpdateUserError, setIsUpdateUserError] = useState(false);\n  const [updateUserErrorMessage, setUpdateUserErrorMessage] = useState('')\n  const [formIsValid, setFormIsValid] = useState(false);\n  const [isEdited, setIsEdited] = React.useState(false);\n\n  const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  } = useFormValidation({});\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onUpdateUser(values);\n    disableEditProfile();\n    resetForm(currentUser);\n  }\n\n  const disableEditProfile = () => {\n    setIsEdited(!isEdited);\n    setIsUpdateUserError(false);\n    setUpdateUserErrorMessage('');\n  };\n\n  const errorHandler = () => {\n    if (userResStatus) {\n      switch (userResStatus) {\n        case 400:\n        case 404:\n          setIsUpdateUserError(true);\n          setUpdateUserErrorMessage('При обновлении профиля произошла ошибка');\n          break;\n        case 500:\n          setIsUpdateUserError(true);\n          setUpdateUserErrorMessage('На сервере произошла ошибка')\n          break;\n        case 200:\n          setIsUpdateUserError(false);\n          setUpdateUserErrorMessage('');\n          break;\n        default:\n          setIsUpdateUserError(true);\n          setUpdateUserErrorMessage('При обновлении профиля произошла ошибка');\n          break;\n      };\n    };\n  };\n\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser);\n    }\n  }, [currentUser, resetForm]);\n\n  useEffect(() => {\n    setFormIsValid(isValid);\n  }, [isValid, values]);\n\n  useEffect(() => {\n    if (currentUser.name === values.name && currentUser.email === values.email) {\n      setFormIsValid(false);\n    }\n  }, [currentUser, values])\n\n  useEffect(() => {\n    errorHandler();\n  });\n\n  return (\n    <section className=\"profile\">\n      <form className=\"profile-form\" onSubmit={handleSubmit} noValidate>\n        <h1 className=\"profile-form__title\">{`Привет, ${currentUser.name}!`}</h1>\n\n        <fieldset className=\"profile-form__fieldset\">\n          <label className=\"profile-form__input-label\">Имя\n            <input className=\"profile-form__input\" type=\"text\" name=\"name\" value={values.name || ''} onChange={handleChange} id=\"name-input\" minLength=\"2\" maxLength=\"30\" pattern='^[a-zA-Zа-яёА-ЯЁ -]+$' required />\n          </label>\n          <span id=\"name-input-error\" className={errors.name ? \"profile-form__input-error profile-form__input-error_visible\" : \"profile-form__input-error\"}>{errors.name}</span>\n\n          <label className=\"profile-form__input-label\">Email\n            <input className=\"profile-form__input\" type=\"email\" name=\"email\" value={values.email || ''} onChange={handleChange} id=\"account-email\" required />\n          </label>\n          <span id=\"email-input-error\" className={errors.email ? \"profile-form__input-error profile-form__input-error_visible\" : \"profile-form__input-error\"}>{errors.email}</span>\n          {isUpdateUserError && (\n            <span className=\"profile-form__error-message\"></span>\n          )}\n          <p className=\"profile-data__message\">{profileUpdateMessage}</p>\n        </fieldset>\n          <>\n            {isLoading && (\n              <Preloader />\n            )}\n            <button type=\"submit\" disabled={!formIsValid} onClick={onUpdateUser} className={!formIsValid ? \"profile-form__edit-btn profile-form__edit-btn_disabled\" : \"profile-form__edit-btn\"}>Редактировать</button>\n            <button type=\"submit\" onClick={onSignOut} className=\"profile-form__signout-btn\">Выйти из аккаунта</button>\n            </>\n      </form>\n    </section>\n  )\n}\n\n\nexport default Profile;\n","import React from 'react';\n\nimport './FormTitle.css';\n\nfunction FormTitle({titleText}) {\n  return (\n    <h1 className=\"form-title\">{titleText}</h1>\n  )\n}\n\nexport default FormTitle;\n","import React, { useState } from 'react';\n\nimport { Link } from \"react-router-dom\";\nimport \"./AuthForm.css\";\nimport \"../Header/Header.css\"\nimport Logo from '../../images/header-logo.svg';\nimport FormTitle from '../FormTitle/FormTitle';\nimport Preloader from '../Preloader/Preloader';\n\n\nfunction AuthForm({ onChange, values, errors, isValid, isLoading, isAuthErr, authErrMessage, onSubmit, titleText, children, requestLink, buttonTitle }) {\n\n  const [inputType, setInputType] = useState('password');\n\n  function handleShowPassword() {\n    inputType === 'password' ? setInputType('text') : setInputType('password');\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"preloader-container\">\n      <Preloader />\n      </div>\n    )\n  } else {\n  return (\n    <section className=\"auth-form__section\">\n      <form className=\"auth-form\" onSubmit={onSubmit} noValidate>\n        <Link to=\"/\">\n          <img alt=\"логотип movies-explorer\" className=\"header__logo\" src={Logo} />\n        </Link>\n        <FormTitle titleText={titleText} />\n\n        <fieldset className=\"auth-form__fieldset\" disabled={isLoading}>\n          {children}\n\n          <label className=\"auth-form__input-label\">E-mail</label>\n        <input className=\"auth-form__input\"\n          type=\"email\" name=\"email\" value={values.email || ''} onChange={onChange} id=\"login-email\"\n          minLength=\"2\" maxLength=\"30\" pattern='.{2,}@.{2,}\\.[a-zA-Z]{2,6}' required />\n        <span id=\"login-email-error\" className={errors.email ? \"auth-form__input-error auth-form__input-error_visible\" : \"auth-form__input-error\"}>{errors.email}</span>\n\n          <label className=\"auth-form__input-label\">Пароль</label>\n        <div className=\"auth-form__password-input-container\">\n          <input className=\"auth-form__input\"\n            type={inputType} name=\"password\" onChange={onChange} id=\"password\"\n            value={values.password || ''} minLength=\"8\" maxLength=\"30\" required />\n          <button\n            type='button'\n            className={`auth-form__password-icon auth-form__password-icon_${inputType}`}\n            onClick={handleShowPassword}\n            onKeyDown={(evt) => evt.preventDefault}></button>\n        </div>\n        <span id=\"register-password-error\" className={errors.password ? \"auth-form__input-error auth-form__input-error_visible\" : \"auth-form__input-error\"}>{errors.password}</span>\n\n        </fieldset>\n\n        {isAuthErr && (\n        <span className=\"auth-form__error-message\">{authErrMessage}</span>\n        )}\n        <button className={!isValid ? \"auth-form__submit-btn auth-form__submit-btn_disabled\" : \"auth-form__submit-btn\"}\n          type=\"submit\" disabled={!isValid}>\n          {buttonTitle}\n        </button>\n        {requestLink}\n      </form>\n    </section>\n  );\n        }\n}\n\nexport default AuthForm;\n\n","import React, { useState, useEffect } from \"react\";\nimport \"../Register/Register.css\"\n\nimport { Link, useHistory } from \"react-router-dom\";\nimport AuthForm from \"../AuthForm/AuthForm\";\nimport { useFormValidation } from '../../hooks/useFormValidation';\n\n\nfunction Register({ onRegister, loggedIn, isLoadingRegister, regResStatus }) {\n\n  const history = useHistory();\n  const [isRegistrationErr, setIsRegistrationErr] = useState(false);\n  const [registrationErrMessage, setRegistrationErrMessage] = useState('');\n\n  const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  } = useFormValidation({});\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onRegister(values);\n  }\n\n  const errorHandler = () => {\n    if (regResStatus) {\n      switch (regResStatus) {\n        case 409:\n          setIsRegistrationErr(true);\n          setRegistrationErrMessage('Пользователь с таким email уже зарегистрирован');\n          break;\n        case 400:\n          setIsRegistrationErr(true);\n          setRegistrationErrMessage('При регистрации пользователя произошла ошибка');\n          break;\n        case 200:\n          setIsRegistrationErr(false);\n          setRegistrationErrMessage('Вы успешно зарегистрировались!');\n          resetForm();\n          break;\n        default:\n          setIsRegistrationErr(true);\n          setRegistrationErrMessage('Пользователь с таким email уже зарегистрирован');\n          break;\n      };\n    };\n  };\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push(\"/\");\n    }\n  }, [history, loggedIn]);\n\n  useEffect(() => {\n    errorHandler();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [regResStatus]);\n\n\n  return (\n    <main className=\"register\">\n      <AuthForm\n        onChange={handleChange}\n        values={values}\n        errors={errors}\n        isAuthErr={isRegistrationErr}\n        isLoading={isLoadingRegister}\n        authErrMessage={registrationErrMessage}\n        isValid={isValid}\n        onSubmit={handleSubmit}\n        titleText={'Добро пожаловать!'}\n        requestLink={\n          <p className=\"auth-form__request-text\">Уже зарегистрированы? <Link to=\"/signin\" className=\"auth-form__link\">Войти</Link></p>\n        }\n        buttonTitle=\"Зарегистрироваться\"\n      >\n        <label className=\"auth-form__input-label\">Имя</label>\n        <input className=\"auth-form__input\"\n          type=\"text\" name=\"name\" id=\"register-name\"\n          onChange={handleChange}\n          value={values.name || ''} minLength=\"2\" maxLength=\"30\" pattern='^[a-zA-Zа-яёА-ЯЁ -]+$' required />\n        <span id=\"name-input-error\" className={errors.name ? \"auth-form__input-error auth-form__input-error_visible\" : \"auth-form__input-error\"}>{errors.name}</span>\n      </AuthForm>\n    </main>\n  );\n}\n\nexport default Register;\n","import React from 'react';\nimport './Footer.css';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <h2 className=\"footer__title\">Учебный проект Яндекс.Практикум х BeatFilm.</h2>\n      <div className=\"footer__container\">\n        <p className=\"footer__text\">&copy; {new Date().getFullYear()}</p>\n          <ul className=\"footer__list\">\n            <li className=\"footer__list-item\">\n              <a className=\"footer__list-link\" href=\"https://praktikum.yandex.ru/\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a>\n            </li>\n            <li className=\"footer__list-item\">\n              <a className=\"footer__list-link\" href=\"https://github.com/zurabobo\" target=\"_blank\" rel=\"noreferrer\">Github</a>\n            </li>\n            <li className=\"footer__list-item\">\n              <a className=\"footer__list-link\" href=\"https://www.facebook.com/zura.bobokhidze.3\" target=\"_blank\" rel=\"noreferrer\">Facebook</a>\n            </li>\n          </ul>\n        </div>\n    </footer>\n  )\n}\n\nexport default Footer;","import React, { useState, useEffect } from \"react\";\nimport './Login.css';\n\nimport { Link, useHistory } from \"react-router-dom\";\nimport AuthForm from \"../AuthForm/AuthForm\";\nimport { useFormValidation } from '../../hooks/useFormValidation';\n\n\nfunction Login({ onLogin, loggedIn, isLoadingLogin, authResStatus, tokenResStatus }) {\n\n  const history = useHistory();\n  const [isAuthErr, setIsAuthErr] = useState(false);\n  const [authErrMessage, setAuthErrMessage] = useState('');\n\n  const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  } = useFormValidation({});\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onLogin(values);\n  }\n\n  const errorHandler = () => {\n    if (tokenResStatus) {\n      switch (tokenResStatus) {\n        case 400:\n          setIsAuthErr(true);\n          setAuthErrMessage('При авторизации произошла ошибка');\n          break;\n        case 401:\n          setIsAuthErr(true);\n          setAuthErrMessage('При авторизации произошла ошибка. Переданный токен некорректен')\n          break;\n        case 500:\n          setIsAuthErr(true);\n          setAuthErrMessage('На сервере произошла ошибка');\n          break;\n        case 200:\n          setIsAuthErr(false);\n          setAuthErrMessage('');\n          resetForm();\n          break;\n        default:\n          setIsAuthErr(true);\n          setAuthErrMessage('При авторизации произошла ошибка');\n          break;\n      };\n    }\n\n    if (authResStatus) {\n      switch (authResStatus) {\n        case 400:\n        case 401:\n          setIsAuthErr(true);\n          setAuthErrMessage('Неправильный логин или пароль');\n          break;\n        case 500:\n          setIsAuthErr(true);\n          setAuthErrMessage('На сервере произошла ошибка');\n          break;\n        case 200:\n          setIsAuthErr(false);\n          setAuthErrMessage('');\n          resetForm();\n          break;\n        default:\n          setIsAuthErr(true);\n          setAuthErrMessage('Неправильный логин или пароль');\n          break;\n      };\n    };\n  };\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push(\"/\");\n    }\n  }, [history, loggedIn]);\n\n  useEffect(() => {\n    errorHandler();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [authResStatus, tokenResStatus]);\n\n  return (\n    <main className=\"login\">\n      <AuthForm\n        onChange={handleChange}\n        values={values}\n        errors={errors}\n        isAuthErr={isAuthErr}\n        isLoading={isLoadingLogin}\n        authErrMessage={authErrMessage}\n        isValid={isValid}\n        onSubmit={handleSubmit}\n        titleText={'Рады видеть!'}\n        requestLink={\n          <p className=\"auth-form__request-text\">Ещё не зарегистрированы? <Link to=\"/signup\" className=\"auth-form__link\">Регистрация</Link></p>\n        }\n        buttonTitle=\"Войти\"\n      >\n      </AuthForm>\n    </main>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\"\nimport \"./NoPageFound.css\";\n\nfunction NoPageFound() {\n\n  const history = useHistory();\n\n  const handleBackBtnClick = () => {\n    history.goBack();\n  };\n\n  return (\n    <section className=\"page-not-found\">\n      <div className=\"page-not-found__container\">\n        <h1 className=\"page-not-found__title\">404</h1>\n        <p className=\"page-not-found__subtitle\">Страница не найдена</p>\n      </div>\n      <button onClick={handleBackBtnClick} className=\"page-not-found__go-back-link\">\n        Назад\n      </button>\n    </section>\n  );\n}\n\nexport default NoPageFound;\n","import { MAIN_API_URL } from \"./config\";\n\nclass MainApi {\n  constructor({ MAIN_API_URL, headers }) {\n    this._MAIN_API_URL = MAIN_API_URL;\n    this._headers = headers;\n  }\n\n  register(data) {\n    return fetch(`${this._MAIN_API_URL}/signup`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        email: data.email,\n        password: data.password,\n      })\n    }).then(this._getResData)\n  }\n\n  authorize(data) {\n    return fetch(`${this._MAIN_API_URL}/signin`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        password: data.password,\n        email: data.email\n      })\n    }).then(this._getResData);\n  }\n\n  checkToken(token) {\n    return fetch(`${this._MAIN_API_URL}/users/me`, {\n      headers: {\n        ...this._headers,\n        Authorization: `Bearer ${token}`\n      },\n    }).then(this._getResData)\n  }\n\n  getUserInfo(token) {\n    return fetch(`${this._MAIN_API_URL}/users/me`, {\n      headers: {\n        ...this._headers,\n        Authorization: `Bearer ${token}`\n      },\n    })\n      .then(this._getResData);\n  }\n\n  updateUserProfile(data, token) {\n    return fetch(`${this._MAIN_API_URL}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        ...this._headers,\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name: data.name,\n        email: data.email\n      })\n    }).then(this._getResData)\n  }\n\n  saveMovie(movie, token) {\n    return fetch(`${this._MAIN_API_URL}/movies`, {\n      method: 'POST',\n      headers: {\n        ...this._headers,\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        country: movie.country,\n        director: movie.director,\n        duration: movie.duration,\n        year: movie.year,\n        description: movie.description,\n        image: movie.image,\n        trailer: movie.trailer,\n        thumbnail: movie.thumbnail,\n        movieId: movie.movieId,\n        nameRU: movie.nameRU,\n        nameEN: movie.nameEN,\n      }),\n    }).then(this._getResData)\n  }\n\n  getSavedMovies(token) {\n    return fetch(`${this._MAIN_API_URL}/movies`, {\n      headers: {\n        ...this._headers,\n        Authorization: `Bearer ${token}`\n      },\n    }).then(this._getResData)\n  }\n\n  deleteSavedMovie(id, token) {\n    return fetch(`${this._MAIN_API_URL}/movies/${id}`, {\n      method: 'DELETE',\n      headers: {\n        ...this._headers,\n        Authorization: `Bearer ${token}`\n      },\n    }).then(this._getResData)\n  }\n\n  _getResData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n}\n\nconst mainApi = new MainApi({\n  MAIN_API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default mainApi;\n\n","import { MOVIES_API_URL } from \"./config\";\n\nclass MoviesApi {\n  constructor({ MOVIES_API_URL, headers }) {\n    this._MOVIES_API_URL = MOVIES_API_URL;\n    this._headers = headers;\n  }\n\n  _getResData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getMovies() {\n    return fetch(`${this._MOVIES_API_URL}`, {\n      headers: this._headers,\n    }).then(this._getResData);\n  }\n\n}\n\nconst moviesApi = new MoviesApi({\n  MOVIES_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default moviesApi;\n","import React, { useState, useEffect } from 'react';\nimport { Route, Switch, useRouteMatch, useHistory } from \"react-router-dom\";\nimport './App.css';\n\n\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport Header from '../Header/Header'\nimport MenuPopup from '../MenuPopup/MenuPopup';\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Profile from '../Profile/Profile';\nimport Register from '../Register/Register';\nimport Footer from '../Footer/Footer';\nimport Login from '../Login/Login';\nimport NoPageFound from '../NoPageFound/NoPageFound';\nimport mainApi from '../../utils/MainApi';\nimport moviesApi from '../../utils/MoviesApi';\nimport { SHORT_MOVIE_DURATION } from '../../utils/config';\n\nfunction App() {\n\n  const [loggedIn, setLoggedIn] = useState((localStorage.getItem(\"loggedIn\")) || false);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingLogin, setIsLoadingLogin] = useState(false);\n  const [isLoadingRegister, setIsLoadingRegister] = useState(false);\n  const [isLoadingUpdateUser, setIsLoadingUpdateUser] = useState(false);\n  const [isLoadingMovies, setIsLoadingMovies] = useState(false);\n\n  const [isNoMoviesFound, setIsNoMoviesFound] = useState(false);\n  const [isNoSavedMoviesFound, setIsNoSavedMoviesFound] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [profileUpdateMessage, setProfileUpdateMessage] = useState('');\n  const [userMovies, setUserMovies] = useState([]);\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\n  const [sortedMovies, setSortedMovies] = useState([])\n  const [authResStatus, setAuthResStatus] = useState(null);\n  const [registrationResStatus, setRegistrationResStatus] = useState(null);\n  const [tokenAuthResStatus, setTokenAuthResStatus] = useState(null);\n  const [updateUserResStatus, setUpdateUserResStatus] = useState(null);\n  const [movies, setMovies] = useState([])\n  const [shortMovies, setShortMovies] = useState(false);\n  const [isSavedMoviesSearch, setIsSavedMoviesSearch] = useState(false);\n  const [findedUserMovies, setFindedUserMovies] = useState([]);\n\n  const history = useHistory();\n\n  const checkToken = () => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      mainApi.checkToken(token)\n        .then((res) => {\n          setLoggedIn(true);\n          setTokenAuthResStatus(res.status);\n          setCurrentUser(res);\n        })\n        .catch((err) => {\n          setTokenAuthResStatus(err)\n        })\n    }\n  }\n\n  const handleRegister = (data) => {\n    setIsLoadingRegister(true)\n    mainApi.register(data)\n      .then((res) => {\n        setRegistrationResStatus(res.status);\n        handleSignin({\n          email: data.email,\n          password: data.password\n        });\n      })\n      .catch((err) => {\n        setRegistrationResStatus(err);\n      })\n      .finally(() => {\n        setIsLoadingRegister(false);\n      })\n  };\n\n  const handleSignin = (data) => {\n    setIsLoadingLogin(true)\n    mainApi.authorize(data)\n      .then((res) => {\n        setAuthResStatus(res.status);\n        localStorage.setItem('jwt', res.token);\n        localStorage.setItem('loggedIn', true);\n        setLoggedIn(true);\n        history.push('/movies');\n      })\n      .then(() => {\n        checkToken();\n      })\n      .catch((err) => {\n        setAuthResStatus(err);\n      })\n      .finally(() => {\n        setIsLoadingLogin(false);\n      })\n  };\n\n  const handleSignOut = (evt) => {\n    evt.preventDefault();\n    localStorage.clear();\n    setLoggedIn(false);\n    setUserMovies([]);\n    setSortedMovies([]);\n    setCurrentUser({});\n    history.push('/');\n  };\n\n  const handleUpdateUser = (data) => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      setIsLoadingUpdateUser(true)\n      mainApi.updateUserProfile(data, token)\n        .then((res) => {\n          setCurrentUser(res);\n          setProfileUpdateMessage('Данные успешно обновлены')\n          setUpdateUserResStatus(res.status);\n          localStorage.setItem('currentUser', JSON.stringify(res));\n        })\n        .catch((err) => {\n          setUpdateUserResStatus(err);\n        })\n        .finally(() => {\n          setIsLoadingUpdateUser(false);\n        })\n    };\n  }\n\n\n  const handleSearchMovies = (keyword) => {\n    const key = new RegExp(keyword, \"gi\");\n    const findedMovies = movies.filter((m) => key.test(m.nameRU) || key.test(m.nameEN));\n    if (findedMovies.length === 0) {\n      setIsNoMoviesFound(true);\n    } else {\n      setIsNoMoviesFound(false);\n      const markAsSaved = findedMovies.map((movie) => {\n        movie.isSaved = userMovies.some(\n          (userMovie) => userMovie.movieId === movie.id\n        );\n        return movie;\n      });\n      setSortedMovies(markAsSaved);\n      localStorage.setItem(\"sortedMovies\", JSON.stringify(markAsSaved));\n    }\n  }\n\n  const handleToggleSave = (movie) => {\n    const clickedMovie = movie.isSaved;\n    if (clickedMovie) {\n      handleDeleteMovie(movie);\n    } else {\n      handleSaveMovieClick(movie);\n    }\n  }\n\n  const handleSaveMovieClick = (movie) => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      mainApi.saveMovie(movie, token)\n        .then((newMovie) => {\n          if (!newMovie) {\n            throw new Error(\"При добавлении фильма произошла ошибка\");\n          } else {\n            localStorage.setItem(\"userMovies\", JSON.stringify((newMovie = [newMovie.movie, ...userMovies]))\n            );\n            setUserMovies(newMovie);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n\n  const handleDeleteMovie = (movie) => {\n    const token = localStorage.getItem('jwt');\n\n    const movieId = movie.id || movie.movieId;\n    const selectedMovie = userMovies.find((item) => item.movieId === movieId);\n    mainApi.deleteSavedMovie(selectedMovie._id, token)\n      .then(() => {\n        const newMoviesList = userMovies.filter((c) => c.movieId !== movieId);\n        setUserMovies(newMoviesList);\n      })\n      .catch((err) => {\n        console.log(err)\n      });\n  }\n\n  const handleDeleteMovieBtn = (movie) => {\n    handleDeleteMovie(movie);\n  }\n\n  const handleSearchSavedMovies = (keyword) => {\n    setIsNoSavedMoviesFound(false);\n    const key = new RegExp(keyword, \"gi\");\n    const findedMovies = userMovies.filter((m) => key.test(m.nameRU) || key.test(m.nameEN));\n    if (findedMovies.length === 0) {\n      setIsNoSavedMoviesFound(true);\n    } else {\n      setIsNoSavedMoviesFound(false);\n    }\n    setFindedUserMovies(findedMovies);\n  }\n\n  const handleCheckBox = () => {\n    setShortMovies(!shortMovies);\n  }\n\n  const filterShortMovies = (arr) => {\n    if (arr.length !== 0 || arr !== \"undefind\") {\n      return arr.filter((movie) =>\n        shortMovies ? movie.duration <= SHORT_MOVIE_DURATION : true\n      );\n    }\n  }\n\n  const checkSavedMovie = (movie) => {\n    return (movie.isSaved = userMovies.some((userMovie) => userMovie.movieId === movie.id))\n  }\n\n  useEffect(() => {\n    checkToken()\n    if (loggedIn) {\n      setIsLoading(true)\n      setIsLoadingMovies(true)\n      const token = localStorage.getItem('jwt');\n      Promise.all([\n        mainApi.getUserInfo(token),\n        moviesApi.getMovies(),\n        mainApi.getSavedMovies(token),\n      ])\n        .then(([userData, allMovies, savedMovies]) => {\n          localStorage.setItem(\"currentUser\", JSON.stringify(userData));\n          setCurrentUser(userData);\n\n          const savedMoviesList = savedMovies.filter((item) => item.owner === userData._id).reverse();\n          localStorage.setItem(\"userMovies\", JSON.stringify(savedMoviesList));\n          setUserMovies(savedMoviesList);\n\n          localStorage.setItem(\"movies\", JSON.stringify(allMovies));\n          setMovies(allMovies);\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n        .finally(() => {\n          setIsLoadingMovies(false)\n          setIsLoading(false)\n        });\n    }\n  }, [loggedIn]);\n\n  // useEffect(() => {\n  //   checkSavedMovie(sortedMovies);\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [userMovies]);\n\n  function showSearchedMovies() {\n    setIsSavedMoviesSearch(true);\n  }\n\n  const handleOpenMenu = () => {\n    setMenuIsOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setMenuIsOpen(false);\n  };\n\n  const excludeHeaderForRoutes = [\n    '/signin',\n    '/signup',\n  ];\n\n  const excludeFooterForRoutes = [\n    '/signin',\n    '/signup',\n    '/profile',\n  ];\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"app\">\n        {useRouteMatch(excludeHeaderForRoutes) ? null : (\n          <Header\n            loggedIn={loggedIn}\n            onMenu={handleOpenMenu}\n          />\n        )}\n\n        <Switch>\n\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n\n          <ProtectedRoute\n            path=\"/movies\"\n            component={Movies}\n            loggedIn={loggedIn}\n            onGetMovies={handleSearchMovies}\n            onSaveMovie={handleToggleSave}\n            movies={filterShortMovies(sortedMovies)}\n            isShortMovie={shortMovies}\n            savedMovies={userMovies}\n            likedMovies={checkSavedMovie}\n            isLoading={isLoadingMovies}\n            isNoMoviesFound={isNoMoviesFound}\n            onFilter={handleCheckBox}\n            buttonTitle=\"Сохранить\"\n            userMovies={userMovies}\n          />\n\n          <ProtectedRoute\n            path=\"/saved-movies\"\n            component={SavedMovies}\n            isLoading={isLoadingMovies}\n            movies={filterShortMovies(userMovies)}\n            isNoSavedMoviesFound={isNoSavedMoviesFound}\n            isShortMovie={shortMovies}\n            handleSearchSavedMovies={handleSearchSavedMovies}\n            showSearchedMovies={showSearchedMovies}\n            loggedIn={loggedIn}\n            onDeleteSavedMovie={handleDeleteMovieBtn}\n            onFilter={handleCheckBox}\n            isSavedMovies={true}\n            isSavedMoviesSearch={isSavedMoviesSearch}\n            foundUserMovies={findedUserMovies}\n          />\n\n          <ProtectedRoute\n            path=\"/profile\"\n            component={Profile}\n            loggedIn={loggedIn}\n            isLoading={isLoadingUpdateUser}\n            onUpdateUser={handleUpdateUser}\n            profileUpdateMessage={profileUpdateMessage}\n            onSignOut={handleSignOut}\n            userResStatus={updateUserResStatus}\n          />\n\n          <Route path=\"/signup\" >\n            <Register\n              loggedIn={loggedIn}\n              onRegister={handleRegister}\n              authResStatus={authResStatus}\n              regResStatus={registrationResStatus}\n              isLoadingRegister={isLoadingRegister || isLoading || isLoadingLogin}\n            />\n          </Route>\n\n          <Route path=\"/signin\">\n            <Login\n              loggedIn={loggedIn}\n              onLogin={handleSignin}\n              authResStatus={authResStatus}\n              tokenResStatus={tokenAuthResStatus}\n              isLoadingLogin={isLoadingLogin || isLoading || isLoadingRegister}\n            />\n          </Route>\n\n          <Route path=\"*\">\n            <NoPageFound />\n          </Route>\n\n        </Switch>\n\n        {useRouteMatch(excludeFooterForRoutes) ? null : (\n          <Footer />\n        )}\n        {menuIsOpen && (<MenuPopup isOpen={menuIsOpen} onClose={handleCloseMenu} />)}\n\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n//import reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}